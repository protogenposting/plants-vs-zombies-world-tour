sh-=1
if(hp<=0)
{
instance_destroy()
}

if(pfactive)
{
	pfi-=1
	if(pfi<=0)
	{
		hp*=2
		pfi=pfr
	}
}
if(storedsteam<=0)
{
	sprite_index=sucknutidle
}
if(storedsteam>0&&!instance_exists(tiletypesteam))
{
	if(collision_line(x+32, y-64, x+32, y+64, basiczombie, true, true))
	{
		if(sh<=0)
		{
			if(instance_exists(basiczombie))
			{
				sprite_index=sucknutshoot
				hp-=1
				inst=instance_nearest(x,y,basiczombie)
				inst.x+=128
				effect_create_above(ef_smoke,inst.x,inst.y,1,c_white)
				storedsteam=0
				sh=reload/4
			}
		}
	}
	else
	{
		sprite_index=sucknuthold
	}
}
if(instance_exists(tiletypesteam))
{
	sprite_index=sucknutsuck
	if(image_index<=0)
	{
		image_index+=1
	}
}